html {
    font-size: 16px;
}

$base-font-size: 1rem;
$base-line-height: 1.25rem;
$base-line-height2: 1.5rem;
$scale: 1.25;
$scale2: 1.5;

$scale-query: "screen and (min-width: 30em)";

// add a line-height, till font-size fits in
@function get-lineheight($fontsize){
    $lineheight: $base-line-height;

    @while $fontsize > $lineheight {
        $lineheight: $lineheight + $base-line-height;
    }

    @return $lineheight;
}

// multiply with scalefactor
@function font-scale($times,$intscale){
    $fontsize: $base-font-size;

    @if $times > 0 {
        @while $times > 0 {
            $fontsize: $fontsize * $intscale;
            $times: $times - 1;
        }
    }
    @if $times < 0 {
        @while $times < 0 {
            $fontsize: $fontsize / $intscale;
            $times: $times + 1;
        }
    }

    @return $fontsize;
}

body {
    color: $primary-color;

    font-size: $base-font-size;
    line-height: $base-line-height;

    @media screen and (min-width: 30em){
        line-height: $base-line-height2;
    }
}

h1 {
    font-size: font-scale(3,$scale);
    line-height: get-lineheight(font-scale(3,$scale));

    margin-top: $base-line-height * 2;
    margin-bottom: $base-line-height * 1;

    &::before {
        content: "(" + font-scale(3,$scale) + ") ";
    }

    @media #{$scale-query} {
        font-size: font-scale(3,$scale2);
        line-height: get-lineheight(font-scale(3,$scale2));

        margin-top: $base-line-height2 * 1;
        margin-bottom: $base-line-height2 * 1;

        &::before {
            content: "(" + font-scale(3,$scale2) + ") ";
        }
    }
}

h2 {
    font-size: font-scale(2,$scale);
    line-height: get-lineheight(font-scale(2,$scale));

    margin-top: $base-line-height * 2;
    margin-bottom: $base-line-height * 1;

    &::before {
        content: "(" + font-scale(2,$scale) + ") ";
    }

    @media #{$scale-query} {
        font-size: font-scale(2,$scale2);
        line-height: get-lineheight(font-scale(2,$scale2));

        margin-top: $base-line-height2 * 1;
        margin-bottom: $base-line-height2 * 1;

        &::before {
            content: "(" + font-scale(2,$scale2) + ") ";
        }
    }
}

h3 {
    font-size: font-scale(1,$scale);
    line-height: get-lineheight(font-scale(1,$scale));

    margin-top: $base-line-height * 1;
    margin-bottom: $base-line-height * 1;

    &::before {
        content: "(" + font-scale(1,$scale) + ") ";
    }

    @media #{$scale-query} {
        font-size: font-scale(1,$scale2);
        line-height: get-lineheight(font-scale(1,$scale2));

        margin-top: $base-line-height2 * 1;
        margin-bottom: $base-line-height2 * 1;

        &::before {
            content: "(" + font-scale(1,$scale2) + ") ";
        }
    }
}

h4 {
    font-size: $base-font-size;
    line-height: $base-line-height;

    margin-top: $base-line-height * 1;
    margin-bottom: $base-line-height * 1;

    &::before {
        content: "(" + font-scale(0,$scale) + ") ";
    }

    @media #{$scale-query} {
        font-size: $base-font-size;
        line-height: $base-line-height2;

        margin-top: $base-line-height2 * 1;
        margin-bottom: $base-line-height2 * 1;

        &::before {
            content: "(" + font-scale(0,$scale2) + ") ";
        }
    }
}

h5,
h6 {
    //font-size: font-scale(-1);
    line-height: get-lineheight(font-scale(-1,$scale));

    margin-top: $base-line-height * 1;
    margin-bottom: $base-line-height * 1;

    &::before {
        content: "(" + font-scale(-1,$scale) + ") ";
    }
}

p {
    font-size: $base-font-size;
    line-height: $base-line-height;

    margin-top: $base-line-height * 1;
    margin-bottom: $base-line-height * 1;
}